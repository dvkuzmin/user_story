# Сервис User Story

## Задача


- Написать асинхронный сервис-приемщик получающий запрос и фиксирующий
 время получения запроса.

  { “request”: { “id”: number, “delay”: number(seconds)}}

  ответ: { “asyncAnswer”: “Ok” }


- Написать сервис-обработчик запросов который ставит задачу на паузу на N секунд
исходя из параметра запроса.


- Написать сервис-записи запросов в 2 txt файла со следующими столбцами
Первый txt:  | id | recieve_time | write_time | - записываем по итогам обработки (то есть
когда прошла задержка).
где id - id, recieve_time - время получения запроса сервисом, write_time - время записи
в txt (пишем сразу как взяли задачу в обработку).
Второй txt: | id | recieve_time |   - записываем в файл по приходу сообщения.
где id - id, recieve_time - время получения запроса сервисом


- Написать асинхронный сервис-клиент, который отправляет запросы на
сервис-обработчик и запускается с параметрами:
connection_count - количество параллельных обращений к сервису-клиенту,
connection_value - количество пакетов которые он отправит сервису-обработчику
(делим это количество по всем обращениям),
delay_range - разброс между задержками (задержка в сообщении выбирается случайно
из этого range.

   Сервис должен писать лог содержащий время отправленного запроса, номер потока,
отправившего запрос  и сам запрос.


- Упаковать сервисы в отдельные докер контейнеры с краткой инструкцией по запуску.

## Развертывание локально
- Запустить docker-compose.yml файл командой

`docker-compose up --build -d`

В файле main.py в сервисе client запускается клиент с параметрами connection_count, connection_value, delay_range
После обработки запросов в корне проекта появятся файлы file1.txt и file2.txt

## Docs
В папке docs uml диаграмма взаимодействия сервисов
